#include "Arduino.h"
#define BLUE_LED 9
#define RED_LED 11
#define GREEN_LED 10

// paste in melodyFrequencies.txt as array
int f[] = {0,32,11,0,5,8,0,0,0,0,19,3,0,8,8621,522,522,1833,931,1249,1050,1047,1047,1047,1047,1047,1047,1047,1047,1047,1047,1047,1052,934,1052,468,1031,1047,934,1044,1031,934,931,934,934,934,934,931,939,926,1244,1246,1246,1244,1244,393,1252,1244,939,926,934,1244,1246,1257,1741,350,369,1857,934,2091,366,350,1653,415,415,829,832,931,931,929,939,945,915,934,947,918,929,826,697,738,832,934,934,947,915,347,350,937,1044,347,350,1222,347,350,1661,1254,611,1120,1244,1244,1260,1222,659,633,1860,2772,2218,1647,1564,1572,468,312,310,310,393,312,939,393,393,466,1857,931,1044,1044,1044,1042,1047,3138,3136,396,390,393,312,393,565,2772,1244,415,415,942,1042,312,312,417,312,310,310,1244,1244,1246,1246,1249,277,312,1300,1044,1044,1179,622,937,934,1246,1246,1246,1246,1246,1246,1246,1246,1246,1244,522,522,786,525,522,829,896,945,1052,937,1042,347,1042,934,934,931,931,931,1047,931,934,934,926,939,934,692,939,929,937,708,692,692,934,463,458,415,328,328,415,463,458,415,328,328,331,458,458,463,458,466,732,592,466,466,466,466,468,415,415,1440,415,417,1437,415,415,1435,417,382,619,463,458,1440,417,1386,2140,415,1367,1440,363,291,584,1367,1443,1437,1362,581,630,226,207,1171,1246,781,396,834,608,458,132,630,404,482,458,630,635,603,633,595,511,781,460,624,460,425,816,824,380,853,1658,1655,231,231,3927,129,191,678,137,261,689,681,304,1300,183,167,293,431,484,929,929,786,781,786,929,929,789,929,934,269,275,277,272,277,9919,482,929,926,778,926,301,304,312,832,608,1661,310,310,310,310,264,304,614,315,315,312,624,318,310,310,369,350,301,713,783,783,783,783,783,783,783,783,783,783,1174,783,1954,789,789,786,708,783,767,697,350,705,705,1036,689,1661,1663,1658,1397,1394,1392,1042,2689,538,137,549,5160,431,412,5044,8161,452,415,153,501,929,926,953,781,929,931,493,490,487,452,498,705,374,441,1970,937,641,821,296,205,245,285,293,291,245,229,199,248,272,266,250,215,272,234,296,315,1114,821,826,1171,877,393,5058,5179};

// paste in bassFrequencies.txt array
int voltages[] = {0,0,8,0,2,6,2,5,15,4,3,5,6,13,1,2,4,3,11,14,4,2,1,6,7,2,5,7,1,6,3,10,4,3,2,5,4,24,5,1,18,7,7,6,6,2,2,2,4,2,9,12,1,8,10,3,15,11,1,7,11,5,6,4,7,1,4,6,1,6,2,8,6,8,2,8,5,1,4,4,3,10,4,10,1,14,1,8,2,4,2,7,6,11,8,3,9,3,1,2,1,6,4,3,5,9,4,5,4,24,0,1,27,0,7,10,3,13,7,1,9,9,5,1,7,4,6,6,4,10,27,6,8,7,11,8,4,2,1,5,10,4,11,1,22,7,2,1,7,6,3,9,2,6,4,22,2,2,16,1,6,8,14,0,3,4,8,0,7,8,1,7,1,8,7,11,7,6,4,10,2,8,12,3,7,6,3,12,0,1,0,3,1,6,2,11,4,10,2,2,3,5,3,6,11,6,1,2,5,6,3,4,4,5,12,11,4,0,28,1,7,2,9,2,1,5,3,2,7,6,12,1,8,3,4,90,22,6,3,43,2,11,32,29,2,7,52,25,6,83,21,3,173,21,52,40,77,17,64,44,59,94,24,49,7,4,85,35,21,56,116,0,0,1,100,11,9,39,1,0,8,44,63,84,7,2,0,1,1,2,36,174,76,5,93,155,11,99,53,3,63,121,91,48,46,7,90,64,26,1,0,0,42,22,1,212,33,1,0,60,59,48,27,0,0,41,142,4,5,67,23,17,13,24,18,102,55,9,3,33,8,112,39,146,32,80,144,172,36,29,12,90,26,6,6,5,18,24,68,14,10,62,4,5,4,26,9,31,9,18,29,27,51,63,3,26,3,1,51,36,6,134,25,3,89,105,34,76,15,30,40,2,55,11,12,82,59,79,4,2,30,2,40,108,4,90,5,9,0,70,33,6,134,51,64,22,13,6,1,0,30,72,66,15,1,16,34,85,7,2,2,120,25,87,8,28,5,142,27,73,104,20,75,17,4,188,1,35,50,15};



void setup() {
    Serial.begin(115200);
  
  for(int i = 0; i < 450; i++){
    if(f[i] < 500){
      analogWrite(RED_LED, voltages[i]);
      analogWrite(BLUE_LED, voltages[i]);

      delay(100);
      digitalWrite(RED_LED, LOW);
      digitalWrite(BLUE_LED, LOW);
    }  
    else if(f[i] < 1000){
      analogWrite(BLUE_LED, voltages[i]);
      delay(100);
      digitalWrite(BLUE_LED, LOW);

    }
    else if(f[i] < 1500){
      analogWrite(GREEN_LED, voltages[i]);
      analogWrite(BLUE_LED, voltages[i]);
      delay(100);
      digitalWrite(GREEN_LED, LOW);
      digitalWrite(BLUE_LED, LOW);
    }
    else if(f[i] < 2000){
      analogWrite(GREEN_LED, voltages[i]);
      delay(100);
      digitalWrite(GREEN_LED, LOW);

    }
    
    else if(f[i] < 2500){
      analogWrite(GREEN_LED, voltages[i]);
      analogWrite(RED_LED, voltages[i]);
      delay(100);
      digitalWrite(GREEN_LED, LOW);
      digitalWrite(RED_LED, LOW);
    }
    
    else if(f[i] < 3000){
      analogWrite(RED_LED, voltages[i]);
      delay(100);
      digitalWrite(RED_LED, LOW);
    }
    else{
      analogWrite(BLUE_LED, voltages[i]);
      analogWrite(GREEN_LED, voltages[i]);
      analogWrite(RED_LED, voltages[i]);
      delay(100);
      digitalWrite(GREEN_LED, LOW);
      digitalWrite(BLUE_LED, LOW);
      digitalWrite(RED_LED, LOW);

    }
  }
}

void loop() {

}
